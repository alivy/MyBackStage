
@{
    Layout = null; 
}



<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Test</title>
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Content/js/jquery/jquery-2.1.0.min.js"></script>
    <script src="~/Content/js/popper.js/popper.min.js"></script>
    <script src="~/Content/js/bootstrap/js/bootstrap.bundle.js"></script>
    <script src="~/Content/js/bootstrap/js/bootstrap.min.js"></script>


</head>
<body>

    <script>

            // 初始化页面
            getPageOfMemo(1);

            // 分页函数
            function getPageOfMemo(page) {

            // 获取请求参数(input里面的时间人员参数可忽略注释)
            var beginTime = $("#signDate").val();
            var endTime = $("#signDate1").val();
            var organId = $("#organId").val();
            var personName = $("#personName").val();

            $.ajax({
            url : basePath+"stats/mattess/getDataPage",
            type : "POST",
            data : {
            "page" : page, // 初始页
            "personName" : personName,//以下是搜索相关的参数  input里面的时间人员参数可忽略注释，同上
            "sleepStartTime" : beginTime,
            "sleepStopTime" : endTime,
            "organId" : organId,
            },
            dataType : "json",
            success : function(data) {
            var totalPages;
            if (data.returnData != null) {
            totalPages = data.returnData.totalPages;
            var htm = "";
            $.each(data.returnData.sList, function(i, item) {

            htm += "<div class='row' id='row-con'>
                <div>
                    <div class='sleep1'>
                        ";
                        htm += "<div>" + item.uuid + "</div><div>
                            <img id='headUrl' src='"
                                    + item.headUrl + "' />
                        </div><div>
                            " + item.personName
                            + "
                        </div>";
                        htm += "
                    </div><div class='sleep2'>
                        ";

                        if (item.personSex == 1000001) {
                        htm += "<div>性别：男</div>";
                        } else {
                        htm += "<div>性别：女</div>";
                        }

                        htm += "<div>年龄：" + item.personAge + "</div><div>
                            部门："
                            + item.organName + "
                        </div>";
                        htm += "
                    </div><div class='sleep3'>
                        "
                        htm += "<div>
                            入睡时间：" + item.sleepStartTime
                            + "
                        </div><div>
                            睡醒时间：" + item.sleepStopTime
                            + "
                        </div>";
                        htm += "
                    </div><div class='sleep4'>
                        ";
                        htm += "<div>平均心率：" + item.heart + "次/分</div><div>
                            平均呼吸："
                            + item.breath + "次/分
                        </div><div>
                            翻身次数："
                            + item.bodyMove + "次/分
                        </div>";
                        htm += "
                    </div><div class='sleep6'>
                        ";
                        htm += "<div>
                            <p>" + item.sleepQuality + "分</p>";

                            if (item.sleepQuality >= 60) {
                            htm += "<p style='border: 4px solid green;'>及格</p>";
                            } else {
                            htm += "<p>不及格</p>";
                            }

                            htm += "
                        </div>
                    </div><div class='sleep7' onclick='getDetail("+item.id+")'>详情</div>";
                    htm += "
                </div>
            </div>";

            });
            $('#htmlDiv').html(htm);


            var element = $('#pageButton');
            var options = {
            bootstrapMajorVersion : 3,
            currentPage : page, // 当前页数
            numberOfPages : 5, // 显示按钮的数量
            totalPages : totalPages, // 总页数
            itemTexts : function(type, page, current) {
            switch (type) {
            case "first":
            return "首页";
            case "prev":
            return "上一页";
            case "next":
            return "下一页";
            case "last":
            return "末页";
            case "page":
            return page;
            }
            },
            // 点击事件，用于通过Ajax来刷新整个list列表
            onPageClicked : function(event, originalEvent, type, page) {
            getPageOfMemo(page);
            }
            };

            element.bootstrapPaginator(options);
            }
            }
            });
            };
    </script>
</body>
</html>